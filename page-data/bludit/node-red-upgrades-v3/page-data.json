{
    "componentChunkName": "component---src-templates-post-js",
    "path": "/bludit/node-red-upgrades-v3",
    "result": {"data":{"allBluditPages":{"edges":[{"node":{"title":"Node-RED Upgrades (v3)","content":"<p>I noticed the other day that my <a href=\"node-red-twitter-bot\">Node-RED node</a> was in need of an update. So I ran the script provided in the <a href=\"https://nodered.org/docs/getting-started/raspberrypi\">Node-RED docs</a>. I expected it to run smoothly since it has always in the past. However, I received a message stating that the script couldn't update from v2 of Node-RED to v3 of Node-RED because I was  on Nodejs v12. </p>\n<h4><em>Note:</em></h4>\n<blockquote>\n<p>Before I did anything. I went to Node-RED in my browser and hit <code>alt-shift-P</code> and ensured that all nodes were updated to their latest version.</p>\n</blockquote>\n<p><br/></p>\n<h3>Here are the steps that I took to do the upgrade.</h3>\n<p><br/></p>\n<p><strong>1. Remove current installation of Nodejs:</strong></p>\n<pre><code>sudo apt remove nodejs</code></pre>\n<p><strong>2. Install Nodejs v14 (Node-RED recommends this version):</strong></p>\n<pre><code>sudo curl -sL https://deb.nodesource.com/setup_14.x | sudo -E bash -\nsudo apt-get install -y nodejs</code></pre>\n<p><strong>3. Run Node-RED install script:</strong></p>\n<pre><code>bash &lt;(curl -sL https://raw.githubusercontent.com/node-red/linux-installers/master/deb/update-nodejs-and-nodered)</code></pre>\n<p><strong>4. Start Node-RED:</strong></p>\n<pre><code>node-red-start --max-old-space-size=1024 </code></pre>\n<p>When I visited my newly upgrade Node-RED installation in my browser I was shocked to see that all my Flows were gone! I just had an empty default Flow. I was freaking out until I remembered that I had previously setup up <a href=\"http://nodered.org/docs/user-guide/projects/\">Projects</a> which allowed me to backup all my Flows and creds to GithHub.</p>\n<p>So I followed the <a href=\"http://nodered.org/docs/user-guide/projects/\">docs</a> and re-enabled <a href=\"http://nodered.org/docs/user-guide/projects/\">Projects</a>. I then went to my GitHub account and copied the <code>flows_noderedpi.json</code> and <code>flows_noderedpi_cred.json</code> to <code>~/.node-red</code> on my <a href=\"node-red-twitter-bot\">Node-RED node</a>. Once I restarted (<code>node-red-restart</code>) Node-RED everything was back in order and working. I made a few updates to take advantage of some of the new features in Node-RED and was able to easily push those changes to GitHub.</p>\n<p>I was so happy that I had setup <a href=\"http://nodered.org/docs/user-guide/projects/\">Projects</a>. It was a real life saver and kept me from losing a few years worth of work that I had put into my Node-RED setup. </p>"}}]}},"pageContext":{"slug":"node-red-upgrades-v3"}},
    "staticQueryHashes": []}